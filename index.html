<!DOCTYPE html>
<html>

<head>
    <title>Peabody's Performance Calculator</title>

    <link rel="stylesheet" href="theme.css">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="manifest" href="/manifest.json">

    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, user-scalable=1">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="aircraft_data.js"></script>
    <script src="ppc.js"></script>
    <script>
        function addToHomeScreen() {
            alert("IOS: Tap the share button on the bottom of your browser, then tap \"Add to Home Screen\".\n\nAndroid: Tap the 3 dots button on the top right of your browser, then tap \"Install app\".");
        }
    </script>

</head>

<body onload="load();">
    <br>
    <div id="performance_input_page" style="display:block;max-width:600px;margin:auto;">
        <div style="display: flex;justify-content: center;">
            <img src="images/logo.png" alt="PPC Logo" style="max-width: 200px;">
        </div>
        <p>This tool is used for calculating weight and balance as well as performance for the DA40. Primarily for use with UVU aircraft. Calculations may not perfectly represent the values derived through use of an approved AFM. For cross country trips, performance should also be calculated for destination using expected arrival weather and fuel.</p>
        
        <p>For ease of access, be sure to "Add to Home Screen" in your browser.</p>

        <div style="justify-content: center;">
            <a href="javascript:addToHomeScreen();">Add to Home Screen</a>&nbsp;
            <a href="share.html">Share</a><br><br>
            <a href="info.html">How are these numbers calculated?</a><br>
        </div>

        <h3>Enter performance parameters (DA40)</h3>

        <h4>-Select Aircraft-</h4>
        <table>
            <tr>
                <td><label for="aircraft">Identifier:</label></td>
                <td>
                    <select id="aircraft" onchange="changeAircraft(this.value);">
                        <option value="ME">[Manual Entry]</option>
                        <option value="N103UV">N103UV</option>
                        <option value="N104UV">N104UV</option>
                        <option value="N105UV">N105UV</option>
                        <option value="N106UV">N106UV</option>
                        <option value="N107UV">N107UV</option>
                        <option value="N108UV">N108UV</option>
                        <option value="N109UV">N109UV</option>
                        <option value="N110UV">N110UV</option>
                        <option value="N112UV">N112UV</option>
                        <option value="N113UV">N113UV</option>
                        <option value="N114UV">N114UV</option>
                        <option value="N115UV">N115UV</option>
                        <option value="N116UV">N116UV</option>
                        <option value="N118UV">N118UV</option>
                        <option value="N119UV">N119UV</option>
                        <option value="N749DS">N749DS</option>
                        <option value="N779US">N779US</option>
                        <option value="N793US">N793US</option>
                        <option value="N4012X">N4012X</option>
                    </select>
                </td>
                <td></td>
            </tr>
            <tr>
                <td><label for="empty_weight">Empty Weight:</label></td>
                <td><input type="number" id="empty_weight">&nbsp;lb</td>
            </tr>
            <tr>
                <td><label for="empty_cg">Empty Arm:</label></td>
                <td><input type="number" id="empty_cg">&nbsp;lb</td>
            </tr>
        </table><br>

        <h4>-Aircraft Loading-</h4>
        <table>
            <tr>
                <td><label for="front_weight">Front Seats:</label></td>
                <td><input type="number" id="front_weight" name="front_weight">&nbsp;lb</td>
            </tr>
            <tr>
                <td></td>
                <td><input type="number" id="front_weight_2" name="front_weight_2">&nbsp;lb</td>
            </tr>
            <tr>
                <td><label for="rear_weight">Rear Seats:</label></td>
                <td><input type="number" id="rear_weight" name="rear_weight">&nbsp;lb</td>
            </tr>
            <tr>
                <td></td>
                <td><input type="number" id="rear_weight_2" name="rear_weight_2">&nbsp;lb</td>
            </tr>
            <tr>
                <td><label for="bag_area_1">Forward Baggage:</label></td>
                <td><input type="number" id="bag_area_1" name="bag_area_1">&nbsp;lb</td>
                <td id="max_bag_1"></td>
            </tr>
            <tr>
                <td><label for="bag_area_2">Aft Baggage:</label></td>
                <td><input type="number" id="bag_area_2" name="bag_area_2">&nbsp;lb</td>
                <td id="max_bag_2"></td>
            </tr>
            <tr>
                <td><label for="fuel">Starting Fuel:</label></td>
                <td><input type="number" id="fuel" name="fuel">&nbsp;gal</td>
                <td id="max_gal"></td>
            </tr>
            <tr>
                <td><label for="fuel_use">Fuel Use:</label></td>
                <td><input type="number" id="fuel_use" name="fuel_use">&nbsp;gal</td>
            </tr>
        </table><br>

        <h4>-Airport Conditions-</h4>
        <table>
            <tr style="display:none;">
                <td><label for="airport">Airport Identifier:</label></td>
                <td><input type="text" id="airport" name="airport" value="kpvu" disabled="true"></td>
                <td><button onclick="getAirport()" disabled="true">Auto collect weather</button></td>

            </tr>
            <tr>
                <td><label for="field_elevation">Field Elevation:</label></td>
                <td><input type="number" id="field_elevation" name="field_elevation" value="4500"></td>
                <td>ft</td>
            </tr>
            <tr>
                <td><label for="field_temperature">Temperature:</label></td>
                <td><input type="number" id="field_temperature" name="field_temperature" value="15"></td>
                <td>Â°c</td>
            </tr>
            <tr>
                <td><label for="altimiter_setting">Altimiter Setting:</label></td>
                <td><input type="number" id="altimiter_setting" name="altimiter_setting" value="29.92"></td>
                <td>in Hg</td>
            </tr>
        </table><br>
        <label for="disclaimer">Disclaimer: By checking this box, you understand that this tool does not replace the pilot's responsibility to verify performance charactaristics with the aircraft's approved AFM.</label><br>
        <input id="disclaimer" type="checkbox"><br><br>
        <button onclick="calculatePerformance()">Calculate Performance</button>
        <p style="font-style: italic; color:rgb(117, 123, 123)">Version 1.0</p><br>
    </div>
    <div id="results_page"  style="display:none;width:600px;margin:auto;">
        <div id="header" style="width: 600px;"></div><br><br>
            <table style="width:200px;font-size:32px;float:right;">
                <tr>
                    <td style="color:aquamarine;">V<sub class="subscript">GLIDE</sub></td>
                    <td id="Vglide" style="color:aquamarine;"><u>00</u></td>
                </tr>
                <tr>
                    <td>V<sub class="subscript">R</sub></td>
                    <td>59</td>
                </tr>
                <tr>
                    <td>V<sub class="subscript">Y</sub></td>
                    <td id="Vy">00</td>
                </tr>
                <tr>
                    <td>V<sub class="subscript">Cruise Climb</sub></td>
                    <td id="Vcc">00</td>
                </tr>
                <tr>
                    <td>V<sub class="subscript">A</sub></td>
                    <td id="Va">94</td>
                </tr>
                <tr>
                    <td>V<sub class="subscript">REF</sub></td>
                    <td id="Vapp">00</td>
                </tr>
            </table>
            <div style="width:400px;font-size:32px;float: left; text-align: right;">
                <table>
                    <tr>
                        <td class="numberLabel">Takeoff Distance:</td>
                        <td id="toDist">INOP</td>
                        <td class="numberLabel">&nbsp;/50':</td>
                        <td id="toDist50">INOP</td>
                    </tr>
                    <tr>
                        <td class="numberLabel">Landing Distance:</td>
                        <td id="ldgDist">INOP</td>
                        <td class="numberLabel">&nbsp;/50':</td>
                        <td id="ldgDist50">INOP</td>
                    </tr>
                </table><br>
                <table>
                    <tr>
                        <td id="toWeightText" class="numberLabel">Takeoff Weight:</td>
                        <td id="toWeight">INOP</td>
                    </tr>
                    <tr>
                        <td id="ldgWeightText" class="numberLabel">Landing Weight:</td>
                        <td id="ldgWeight">INOP</td>
                    </tr>
                    <tr>
                        <td id="ZFWeightText" class="numberLabel">Zero Fuel Weight:</td>
                        <td id="ZFWeight">INOP</td>
                    </tr>
                </table>
            </div>
        <canvas id="W&B" width="400" height="300" style="background-color:rgb(21, 28, 30)"></canvas>
    </div>
</body>
</html>
